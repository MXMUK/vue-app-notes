import{T as m}from"./TodoList-68194533.js";import{_,r as c,o as u,c as p,a as t,b as n,w as r,d as f,e as T,v as b}from"./index-5cfa887a.js";const N={components:{TodoList:m},data(){return{noteTitle:"",todoTitle:"",todos:[]}},methods:{getNewId(o){return o.length===0?1:Math.max(...o.map(e=>+e.id))+1},deleteTodo(o){this.todos.splice(o,1)},handleSubmitTodo(){this.todos.push({id:this.getNewId(this.todos),completed:!1,name:this.todoTitle}),this.todoTitle=""},handleSubmit(){let o=[];const e=localStorage.getItem("notes")||"[]";try{o=JSON.parse(e)}catch{}const i={id:this.getNewId(o),title:this.noteTitle,todos:this.todos};this.noteTitle&&(localStorage.setItem("notes",JSON.stringify([...o,i])),this.noteTitle="",this.todoTitle="",this.todos=[],this.$router.go(-1))}}},v={className:"modal is-active","data-cy":"modal"},w=t("div",{className:"modal-background"},null,-1),S={className:"modal-card"},g={className:"modal-card-head is-justify-content-space-between"},x=t("span",{class:"icon is-small"},[t("i",{class:"fas fa-check"})],-1),k=t("span",null,"Save",-1),y=[x,k],C=t("p",{class:"control"},[t("button",{class:"button"},"Cancel")],-1),I={class:"modal-card-body"},L={class:"noteapp__content"},M={className:"modal-card-head"},B={className:"modal-card-title has-text-weight-medium"},V={class:"oteapp__content"};function j(o,e,i,D,d,a){const l=c("RouterLink"),h=c("TodoList");return u(),p("div",v,[w,t("div",S,[t("header",g,[n(l,{to:"/"},{default:r(()=>[t("button",{class:"button is-success",onClick:e[0]||(e[0]=(...s)=>a.handleSubmit&&a.handleSubmit(...s))},y)]),_:1}),n(l,{to:"/"},{default:r(()=>[C]),_:1})]),t("div",I,[t("div",L,[t("form",{onSubmit:e[2]||(e[2]=f((...s)=>a.handleSubmit&&a.handleSubmit(...s),["prevent"]))},[t("header",M,[t("div",B,[T(t("input",{type:"text",ref:"{newTodoField}",class:"noteapp__new-todo",placeholder:"Enter a name of note",required:"","onUpdate:modelValue":e[1]||(e[1]=s=>d.noteTitle=s)},null,512),[[b,d.noteTitle]])])]),t("div",V,[n(h,{todos:d.todos},null,8,["todos"])])],32)])])])])}const O=_(N,[["render",j]]);export{O as default};
